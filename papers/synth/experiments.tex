\begin{sidewaysfigure}[t]
  \centering
  \begin{tabular}[t]{|c@{}|@{}c@{}|@{}c@{}|@{}c@{}|@{}c@{}|@{}c@{}|@{}c@{}|@{}c@{}|@{}c@{}|@{}c@{}|@{}C{4cm}@{}|}\hline
% \begin{table}[t]
%   \centering
%   \begin{tabular}[t]{|c@{}|@{}c@{}|@{}c@{}|@{}c@{}|@{}c@{}|@{}c@{}|@{}c@{}|@{}c@{}|@{}c@{}|@{}c@{}|@{}c@{}|}\hline
    {\multirow{2}{*} \textbf{}}  & \multicolumn{2}{c|}{\textbf{Add}} & \multicolumn{2}{c|}{\textbf{Add}} & \multicolumn{2}{c|}{\textbf{Learning NNF}}  &  \multicolumn{2}{c|}{\textbf{Learning}} &  \multicolumn{2}{c|}{\textbf{Add/Delete}} \\
    {\multirow{2}{*} \textbf{Table a}}  & \multicolumn{2}{c|}{\textbf{edge}} & \multicolumn{2}{c|}{\textbf{molecules}} & \multicolumn{2}{c|}{\textbf{(only $\land$ and $\lor$)}}  &  \multicolumn{2}{c|}{\textbf{k-CNF}} &  \multicolumn{2}{c|}{\textbf{parts}} \\
    \cline{2-11}
    {} & {\textbf{Time}} & {\textbf{\#C}} & {\textbf{Time}} & {\textbf{\#C}} & {\textbf{Time}} & {\textbf{\#C}} & {\textbf{Time}} & {\textbf{\#C}} & {\textbf{Time}} & {\textbf{\#C}} \\
    \hline
    
    plos1-dia[3C]& 0.326 &$\infty$& 0.312 &$\in0.224fty$& 0.669 & $\infty$ & 0.966 &$\infty$& 0.277 & add: 1 edge bit, 1 node bit, del: 1 E, 1 AE, 1 AN\\\hline
    plos2-dia[4C] & 0.266 & 0   & 0.3229 & 0  & 1.409  & 0 & 2.114 & 0 &  0.3378 & 0 \\\hline
    mammal-vts[3C]  & 0.767 & 1 E  & 1.049 & 5 PE & 3.523 & 1E & 4.961 & - & 1.172  & -1 E, -2 PE, -1 AN. +1 E, +4 PE, +4 N, +2 AN, +2 AE \\\hline
    node4[3C]  & 1.554  & 1 E   &  3.859 & 12 PE  &  5.286  & $\infty$ & 4.502 &$\infty$& 2.194  & -2 E, -2 PE, -1 N, -1 AN, -1 AE. +12 N, +8 E, +1 PE \\\hline
    yeast-graph[3C]   & 95.016    & 1 E   & 94.5206    & 0.00   & 0.0         & 0.0      & 0.0   & 0.0    & 0.0    & 0.0 \\\hline
       & 0.0    & 0.0    & 0.0    & 0.0    & 0.0         & 0.0      & 0.0   & 0.0    & 0.0    & 0.0\\\hline
  \end{tabular}
  % \caption{Run-times for searching for models (in secs). \#C  stands for minimum changes.
  % Time is reported in seconds.}
  % \label{tab:qf-graph}
% \end{table}
  \begin{tabular}[t]{|c@{}|@{}c@{}|@{}c@{}|@{}c@{}|@{}c@{}|@{}c@{}|@{}c@{}|@{}c@{}|@{}c@{}|@{}c@{}|@{}C{4cm}@{}|}\hline
    {\multirow{2}{*} \textbf{}}  & \multicolumn{2}{c|}{\textbf{Add}} & \multicolumn{2}{c|}{\textbf{Add}} & \multicolumn{2}{c|}{\textbf{Learning NNF}}  &  \multicolumn{2}{c|}{\textbf{Learning}} &  \multicolumn{2}{c|}{\textbf{Add/Delete}} \\
    {\multirow{2}{*} \textbf{Table b}}  & \multicolumn{2}{c|}{\textbf{edge}} & \multicolumn{2}{c|}{\textbf{molecules}} & \multicolumn{2}{c|}{\textbf{(only $\land$ and $\lor$)}}  &  \multicolumn{2}{c|}{\textbf{k-CNF}} &  \multicolumn{2}{c|}{\textbf{parts}} \\
    \cline{2-11}
    {} & {\textbf{Time}} & {\textbf{\#C}} & {\textbf{Time}} & {\textbf{\#C}} & {\textbf{Time}} & {\textbf{\#C}} & {\textbf{Time}} & {\textbf{\#C}} & {\textbf{Time}} & {\textbf{\#C}} \\
    \hline
    
    plos1-dia & 0.041&$\infty$& 0.320 &$\infty$& 0.225 & $\infty$ & 0.33&$\infty$& 3.74 & -1 E, -1 PN, - 1 N, -1 PE. +1 AE, +1 PE, +1 N\\\hline
    plos2-dia & 3.97 & 0 &  2.647 & 0  & 5.941 & 0 & 5.680 & 0 & 3.56 & 0 \\\hline
    mukund  & 3.483 & 1 E  & 4.379 & 5 PE  & 6.340[-] / 29.980 & 2 E, 10 PE  & 10.4052[-] & [-] & 3.650  & -1 E, -2 PE, -1 AN. +1 E, +4 PE, +4 N, +2 AN, +2 AE \\\hline
    node4  & 4.1502  & 1 E  & 10.562  & 12 PE & 3.401  & $\infty$ & 4.760 &$\infty$&  5.05  & -2 E, -2 PE, -1 N, -1 AN, -1 AE. +12 N, +8 E, +1 PE \\\hline
    yeast-graph & 40.8728  & 1 E  &   timeout  & N/A   & 1313.91  & 1 E  & 517.619   & 1 E & 380.43  &  -1 E, -2 N, -2 AE, -2 AN. +2 E, 12 PE, 7 N. \\\hline
    mammal-graph   & 0.0    & 0.0    & 0.0    & 0.0    & 0.0         & 0.0      & 0.0   & 0.0    & 0.0    & 0.0\\\hline
  \end{tabular}
  \caption{Run-times for synthesis queries. \#C  stands for minimum changes. Time is reported
    in seconds. (a) solver used~\depqbf (b) solver used~\zthree}
  % \caption{Run-times for searching for Z3 models (in secs). \#C  stands for minimum changes.
  % Time is reported in seconds.}
  \label{tab:z3-qf-graph}
\end{sidewaysfigure}

%[M=8, N=2, Q=2]    
% n/A n/A activeN == UNSAT adding edge == UNSAT activeE == UNSAT presenceE == UNSAT


We implemented the encodings in a tool
called~\ourtool\footnote{{\url{https://github.com/arey0pushpa/pyZ3}}}.
%
The tool takes a partially defined VTS as input in a custom designed
input language.
%
The input is then converted to the constraints over VTS. 
%
The tool can not only synthesize the above discussed queries, but also their
combinations.
%
For example, our tool can modify labels of nodes or edges while
learning activity functions.
%
Our tool is developed in C++ and uses~\zthree~\cite{z3} infrastructure for
processing formulas. 
%
Since, some of the formulas involve alternation of quantifiers over
Boolean variables Z3 is not a suitable choice for those examples.
%
We translate the formulas created by Z3 tool into standard
QDIMACS~\cite{qdimacs} format and use as an input for QBF solvers. 
%
We use~\depqbf~\cite{lonsing2010depqbf} for solving of QBF formulas. 
%
Our tool includes about 7000 lines of code.

We have applied~\ourtool~on six partially defined VTSs.
%
The results are presented in table~\ref{tab:qf-graph} for both the solvers
\depqbf and \zthree.
%
To use~\zthree, we remove \texttt{Connected} constraints, such the query becomes
quantifier free.
%
% The experiments were conducted on a machine,
% with \ashu{?}MHz processor, \ashu{?}GB memory, and 900s timeout.
%
The experiments were conducted with 1 hour timeout.
%
The first four VTSs are synthetic, but inspire from literature for
typical motifs in VTSs. 
%
%
The fifth VTS is taken from~\cite{burri2004complete}.
%
The last VTS represent mammalian SNARE map created by studying the literature references.  

The table shows timing for various synthesis queries.
%
For each synthesis query, we have two columns.
%
One column reports the timing and the other reports the minimum changes
needed to obtain a valid VTS.
%
$\infty$ indicates that any number of changes with the synthesis query
search space can obtain the VTS.
%
%\ashu{@ankit: please discuss all the synthesis queries in the table.}
In the table, we are reporting five synthesis queries
%
The first one only adds new labelled edges to the graph.
%
We have ranked the all possible graph edits with the simple rank of
minimum updates.
% %
% Our tools were able to complete the graphs by adding five new edges
% and nine new molecules in 210s.
%
The second query adds new labels to the edge.
%  and was able to
% fix the graphs with eleven new molecule labels in 180s.
%
The third query synthesizes NNF Boolean functions only containing
$\land$ and $\lor$ gates for activity functions, while allowing
more edges to be added.
%
The result shows the basic template of 4 leaves and 3 gates.
%
% The tool was able to synthesize the Boolean functions in 470s.
%
To illustrated the versatility of our tool, the the fourth query
synthesizes $3$-CNF functions (encoding not presented).
%  and was able to
% synthesis the results for all graphs in 500s.
%
Finally, we report queries that allows both addition and deletion of edges, and labels
of node and labels. 
%
%Our experiments suggest that the synthesis problems are solvable by modern 
%solvers and the synthesis technology may be useful for biological research.
%

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "main"
%%% End:
